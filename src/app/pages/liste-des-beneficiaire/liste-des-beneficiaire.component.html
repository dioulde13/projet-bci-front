<div class="page-content">
  <div class="container-fluid">
    <div class="row">
      <div class="col-12">
        <div
          class="d-sm-flex justify-content-between align-items-center page-title-box mt-4"
        >
          <div>
            <h4 class="mb-sm-0 font-size-18 fw-bolder">
              Gérer les bénéficiaires
            </h4>
          </div>
          <div class="page-title-right">
            <ol class="breadcrumb m-0">
              <li class="breadcrumb-item">
                <a><span>Bénéficiaires</span></a>
              </li>
              <li class="breadcrumb-item active">
                <span>Gérer les bénéficiaires</span>
              </li>
            </ol>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <div class="card">
          <div class="card-header">
            <div class="row">
              <div class="col-12">
                <div
                  class="d-sm-flex justify-content-between align-items-center page-title-box mt-4"
                >
                  <div>
                    <h4 class="mb-sm-0 font-size-18">
                      Gestion des Bénéficiaires
                    </h4>
                    <p class="text-secondary font-size-12 my-sm-2">
                      Gérez les bénéficiaires de manière efficace. Vous pouvez
                      consulter la liste des bénéficiaires, ajouter de nouveaux
                      profils, ou modifier et supprimer les bénéficiaires
                      existants.
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>




          <div class="card-body">
            <div class="row">
              <div class="col-lg-12">
                <div class="card">

                  <div class="card-header">
                    <div class="row">
                      <div class="col-sm">
                        <div class="d-flex flex-wrap gap-2">
                          <button
                            class="btn btn-primary waves-effect waves-light"
                            (click)="openAjoutModalBeneficiaire()"
                          >
                            <i
                              class="icon ion-person-add font-size-16 align-middle me-2"
                            ></i>
                            Ajouter un Bénéficiaire
                          </button>
                          <div
                            class="modal fade"
                            role="dialog"
                            tabindex="-1"
                            id="AjouterUneCategorie"
                            aria-labelledby="AjouterUneCategorie"
                            aria-hidden="true"
                          >
                            <div class="modal-dialog modal-xl modal-dialog-centered" role="document">
                              <div class="modal-content modal-flex">
                                <div class="modal-header">
                                  <h5 class="modal-title">
                                    Ajouter une catégorie
                                  </h5>
                                  <button
                                    class="btn-close"
                                    aria-label="Close"
                                    data-bs-dismiss="modal"
                                    type="button"
                                  ></button>
                                </div>
                                <div class="modal-body">
                                  <div class="mb-3">
                                    <label
                                      class="form-label fw-semibold required"
                                      >Nom de la catégorie</label
                                    ><input
                                      type="text"
                                      class="form-control"
                                      id="addCatNom"
                                      placeholder="Ex: Achats divers"
                                    />
                                  </div>
                                  <div class="mb-3">
                                    <label class="form-label fw-semibold"
                                      >Description (optionnel)</label
                                    ><input
                                      type="text"
                                      class="form-control"
                                      id="addCatDesc"
                                      placeholder="Ex: Paiements ponctuels"
                                    />
                                  </div>
                                  <div class="mb-3">
                                    <label class="form-label fw-semibold"
                                      >Règles d’approbation</label
                                    >
                                    <div class="form-check">
                                      <input
                                        type="checkbox"
                                        class="form-check-input"
                                        name="regleCatAdd[]"
                                        value="Aucun"
                                        id="regleAucun"
                                      />
                                      <label
                                        class="form-check-label"
                                        for="regleAucun"
                                        >Aucun</label
                                      >
                                    </div>
                                    <div class="form-check">
                                      <input
                                        type="checkbox"
                                        class="form-check-input"
                                        name="regleCatAdd[]"
                                        value="Niveau 1"
                                        id="regleNiv1"
                                      />
                                      <label
                                        class="form-check-label"
                                        for="regleNiv1"
                                        >Niveau 1</label
                                      >
                                    </div>
                                    <div class="form-check">
                                      <input
                                        type="checkbox"
                                        class="form-check-input"
                                        name="regleCatAdd[]"
                                        value="Niveau 1 et 2"
                                        id="regleNiv12"
                                      />
                                      <label
                                        class="form-check-label"
                                        for="regleNiv12"
                                        >Niveau 1 et 2</label
                                      >
                                    </div>
                                  </div>

                                  <div
                                    class="warning-text"
                                    id="addCatWarning"
                                    style="display: none"
                                  >
                                    <span
                                      >Le nom de la catégorie est
                                      obligatoire.</span
                                    >
                                  </div>
                                </div>
                                <div class="modal-footer">
                                  <button
                                    class="btn btn-secondary"
                                    data-bs-dismiss="modal"
                                  >
                                    Annuler</button
                                  ><button
                                    class="btn btn-primary"
                                    id="addCatBtn"
                                  >
                                    Enregistrer
                                  </button>
                                </div>
                              </div>
                            </div>
                          </div>

                          <div
                            *ngIf="showAjoutBeneficiaireModal"
                            class="modal d-block"
                            tabindex="-1"
                            role="dialog"
                            style="background: rgba(0, 0, 0, 0.5)"
                          >
                            <div class="modal-dialog modal-xl modal-dialog-centered" role="document">
                              <div class="modal-content modal-flex">
                                <form
                                  id="add-beneficiary-form"
                                  class="a-besoin-d-une-validation transfert-form"
                                  [formGroup]="formBeneficiaire"
                                  (ngSubmit)="submit()"
                                  class="modal-form"
                                >
                                  <div class="modal-header">
                                    <h5 class="modal-title">
                                      Ajout de Bénéficiaire
                                    </h5>
                                    <button
                                      type="button"
                                      class="btn-close"
                                      (click)="closeModalBeneficiaire()"
                                    ></button>
                                  </div>
                                  <div class="modal-body modal-body-scroll">
                                    <div class="card card-h-100 border-0">
                                      <div class="card-body">
                                        <div class="card">
                                          <div class="card-header">
                                            <h5
                                              class="fw-bold text-body card-title mb-0"
                                            >
                                              Informations Personnelles
                                            </h5>
                                          </div>
                                          <div class="card-body">
                                            <div class="row">
                                              <div class="col-xl">
                                                <div class="text-muted">
                                                  <div class="row">
                                                    <div class="col-xl-3">
                                                      <div class="text-center">
                                                        <div
                                                          class="photo-square mb-2"
                                                          (click)="
                                                            fileInput.click()
                                                          "
                                                          title="Cliquer pour charger une photo"
                                                        >
                                                          <img
                                                            *ngIf="
                                                              photoPreview;
                                                              else defaultImage
                                                            "
                                                            [src]="photoPreview"
                                                            alt="Photo"
                                                          />
                                                          <ng-template
                                                            #defaultImage
                                                          >
                                                            <i
                                                              class="bx bx-image"
                                                            ></i>
                                                          </ng-template>
                                                        </div>

                                                        <button
                                                          type="button"
                                                          class="btn btn-outline-primary"
                                                          (click)="
                                                            fileInput.click()
                                                          "
                                                        >
                                                          Charger la photo
                                                        </button>

                                                        <input
                                                          #fileInput
                                                          type="file"
                                                          class="d-none"
                                                          accept="image/*"
                                                          (change)="
                                                            onFileSelected(
                                                              $event
                                                            )
                                                          "
                                                        />
                                                      </div>
                                                    </div>
                                                    <div class="col-xl">
                                                      <div class="text-muted">
                                                        <div class="row">
                                                          <div class="col-md-6">
                                                            <div class="mb-3">
                                                              <label
                                                                class="form-label fw-bold required"
                                                              >
                                                                Nom
                                                              </label>

                                                              <input
                                                                class="form-control"
                                                                type="text"
                                                                placeholder="Entrer votre nom"
                                                                formControlName="nom"
                                                              />

                                                              <small
                                                                class="text-danger"
                                                                *ngIf="
                                                                  submitted &&
                                                                  f['nom']
                                                                    ?.invalid
                                                                "
                                                              >
                                                                Nom obligatoire
                                                              </small>
                                                            </div>
                                                          </div>
                                                          <div class="col-md-6">
                                                            <div class="mb-3">
                                                              <label
                                                                class="form-label fw-bold text-body required"
                                                                for="nomEmploye"
                                                                >Prénom</label
                                                              >
                                                              <input
                                                                class="form-control item"
                                                                type="text"
                                                                placeholder="Entrer votre prénom"
                                                                formControlName="prenom"
                                                              />
                                                              <small
                                                                class="text-danger"
                                                                *ngIf="
                                                                  submitted &&
                                                                  f['prenom']
                                                                    ?.invalid
                                                                "
                                                              >
                                                                Prénom
                                                                obligatoire
                                                              </small>
                                                            </div>
                                                          </div>
                                                        </div>
                                                        <div class="row">
                                                          <div class="col-md-6">
                                                            <div class="mb-3">
                                                              <label
                                                                class="form-label fw-bold text-body required"
                                                                for="ville"
                                                              >
                                                                Ville
                                                              </label>
                                                              <input
                                                                class="form-control item"
                                                                type="text"
                                                                placeholder="Entrer la ville"
                                                                formControlName="ville"
                                                              />
                                                              <small
                                                                class="text-danger"
                                                                *ngIf="
                                                                  submitted &&
                                                                  f['ville']
                                                                    ?.invalid
                                                                "
                                                              >
                                                                Ville
                                                                obligatoire
                                                              </small>
                                                            </div>
                                                          </div>
                                                          <div class="col-md-6">
                                                            <div class="mb-3">
                                                              <label
                                                                class="form-label fw-bold text-body required"
                                                                for="pays"
                                                                >Pays</label
                                                              >
                                                              <input
                                                                class="form-control item"
                                                                type="text"
                                                                placeholder="Entrer le pays"
                                                                formControlName="pays"
                                                              />
                                                              <small
                                                                class="text-danger"
                                                                *ngIf="
                                                                  submitted &&
                                                                  f['pays']
                                                                    ?.invalid
                                                                "
                                                              >
                                                                Pays obligatoire
                                                              </small>
                                                            </div>
                                                          </div>
                                                        </div>
                                                        <div class="row">
                                                          <div class="mb-3">
                                                            <label
                                                              class="form-label fw-bold text-body required"
                                                              for="dateNaissance"
                                                              >Date de
                                                              naissance</label
                                                            >
                                                            <div
                                                              class="input-group"
                                                            >
                                                              <input
                                                                type="date"
                                                                class="form-control"
                                                                formControlName="date"
                                                              />
                                                              <span
                                                                class="input-group-text"
                                                              >
                                                                <i
                                                                  class="bx bx-calendar-event"
                                                                ></i>
                                                              </span>
                                                            </div>

                                                            <small
                                                              class="text-danger"
                                                              *ngIf="
                                                                submitted &&
                                                                f['date']
                                                                  ?.invalid
                                                              "
                                                            >
                                                              Date obligatoire
                                                            </small>
                                                          </div>
                                                        </div>
                                                        <div class="row">
                                                          <div class="col-md-6">
                                                            <div class="mb-3">
                                                              <label
                                                                class="form-label fw-bold text-body required"
                                                                for="adresse"
                                                                >Adresse</label
                                                              ><input
                                                                class="form-control item"
                                                                type="text"
                                                                data-bs-toggle="tooltip"
                                                                data-bss-tooltip=""
                                                                placeholder="Adresse"
                                                                formControlName="adresse"
                                                              />
                                                              <small
                                                                class="text-danger"
                                                                *ngIf="
                                                                  submitted &&
                                                                  f['adresse']
                                                                    ?.invalid
                                                                "
                                                              >
                                                                Adresse
                                                                obligatoire
                                                              </small>
                                                            </div>
                                                          </div>
                                                          <div class="col-md-6">
                                                            <div class="mb-3">
                                                              <label
                                                                class="form-label fw-bold text-body required"
                                                                for="adresseEmail"
                                                                >Adresse
                                                                E-mail</label
                                                              ><input
                                                                class="form-control item"
                                                                type="email"
                                                                placeholder="exemple@exemple.com"
                                                                formControlName="email"
                                                              />
                                                              <small
                                                                class="text-danger"
                                                                *ngIf="
                                                                  submitted &&
                                                                  f['email']
                                                                    ?.invalid
                                                                "
                                                              >
                                                                Email
                                                                obligatoire
                                                              </small>
                                                            </div>
                                                          </div>
                                                        </div>
                                                        <div class="row">
                                                          <div
                                                            class="col-md-12"
                                                          >
                                                            <div class="mb-3">
                                                              <label
                                                                class="form-label fw-bold text-body required"
                                                                for="NumeroTelephone"
                                                                >Numéro de
                                                                téléphone
                                                              </label>
                                                              <input
                                                                class="form-control item phone"
                                                                type="tel"
                                                                formControlName="telephone"
                                                                placeholder="Numéro de téléphone"
                                                                (input)="
                                                                  onPhoneInput(
                                                                    $event
                                                                  )
                                                                "
                                                              />

                                                              <small
                                                                class="text-danger"
                                                                *ngIf="submitted && f['telephone']?.errors?.['required']"
                                                              >
                                                                Téléphone
                                                                obligatoire
                                                              </small>

                                                              <small
                                                                class="text-danger"
                                                                *ngIf="submitted && f['telephone']?.errors?.['pattern']"
                                                              >
                                                                Numéro invalide
                                                                (9 chiffres)
                                                              </small>
                                                            </div>
                                                          </div>
                                                        </div>
                                                        <div class="row">
                                                          <div class="col-md-6">
                                                            <div class="mb-3">
                                                              <label
                                                                class="form-label fw-bold required"
                                                              >
                                                                Type de
                                                                bénéficiaire
                                                              </label>

                                                              <select
                                                                class="form-select"
                                                                formControlName="typeBeneficiaire"
                                                              >
                                                                <option
                                                                  value=""
                                                                >
                                                                  Sélectionner...
                                                                </option>

                                                                <option
                                                                  *ngFor="
                                                                    let typeB of listeTypeBeneficiaire
                                                                  "
                                                                  [value]="
                                                                    typeB.id
                                                                  "
                                                                >
                                                                  {{
                                                                    typeB.vcName
                                                                  }}
                                                                </option>
                                                              </select>

                                                              <div
                                                                class="text-danger mt-1"
                                                                *ngIf="
                                                                  formBeneficiaire.get(
                                                                    'typeBeneficiaire'
                                                                  )?.touched &&
                                                                  formBeneficiaire.get(
                                                                    'typeBeneficiaire'
                                                                  )?.invalid
                                                                "
                                                              >
                                                                Champ
                                                                obligatoire
                                                              </div>
                                                            </div>
                                                          </div>

                                                          <div class="col-md-6">
                                                            <div class="mb-3">
                                                              <label
                                                                class="form-label fw-bold required"
                                                              >
                                                                Selectionner la
                                                                devise
                                                              </label>

                                                              <select
                                                                class="form-select"
                                                                formControlName="vcCurrency"
                                                              >
                                                                <option
                                                                  value=""
                                                                >
                                                                  Sélectionner...
                                                                </option>

                                                                <option
                                                                  *ngFor="
                                                                    let typeDevise of listePays
                                                                  "
                                                                  [value]="
                                                                    typeDevise.vcCurrency
                                                                  "
                                                                >
                                                                  {{
                                                                    typeDevise.vcName
                                                                  }}
                                                                  ({{
                                                                    typeDevise.vcCurrency
                                                                  }})
                                                                </option>
                                                              </select>

                                                              <div
                                                                class="text-danger mt-1"
                                                                *ngIf="
                                                                  formBeneficiaire.get(
                                                                    'vcCurrency'
                                                                  )?.touched &&
                                                                  formBeneficiaire.get(
                                                                    'vcCurrency'
                                                                  )?.invalid
                                                                "
                                                              >
                                                                Champ
                                                                obligatoire
                                                              </div>
                                                            </div>
                                                          </div>
                                                        </div>
                                                      </div>
                                                    </div>
                                                  </div>
                                                </div>
                                              </div>
                                            </div>
                                          </div>
                                        </div>

                                        <div class="card">
                                          <div class="card-header">
                                            <h5
                                              class="fw-bold text-body card-title mb-0"
                                            >
                                              Méthode de paiement Salarial
                                            </h5>
                                          </div>
                                          <div class="card-body">
                                            <div class="row my-3">
                                              <div class="col-xl-2">
                                                <div>
                                                  <h5
                                                    class="fw-bold text-body font-size-15"
                                                  >
                                                    Choix du Mode de Paiement :
                                                  </h5>
                                                </div>
                                              </div>



                                              <div class="col-xl">
                                                <div class="text-muted">
                                                  <div class="row">
                                                    <div class="col-xl">
                                                      <div class="text-muted">
                                                        <div class="row mb-3">
                                                          <div class="col-md-6">
                                                            <div class="mb-3">
                                                              <label
                                                                class="form-label fw-bold text-body required"
                                                                for="paymentType-1"
                                                                >Type de
                                                                Paiement</label
                                                              >
                                                              <select
                                                                class="form-select"
                                                                formControlName="vcTypePaiement"
                                                                (change)="
                                                                  onTypePaiementChange(
                                                                    $event
                                                                  )
                                                                "
                                                              >
                                                                <option
                                                                  value=""
                                                                >
                                                                  Sélectionner...
                                                                </option>
                                                                <option
                                                                  *ngFor="
                                                                    let typeP of listeTypePaiement
                                                                  "
                                                                  [value]="
                                                                    typeP.id
                                                                  "
                                                                >
                                                                  {{
                                                                    typeP.vcName
                                                                  }}
                                                                </option>
                                                              </select>

                                                              <small
                                                                class="text-danger"
                                                                *ngIf="
                                                                  submitted &&
                                                                  f[
                                                                    'vcTypePaiement'
                                                                  ]?.invalid
                                                                "
                                                              >
                                                                Type paiement
                                                                obligatoire
                                                              </small>
                                                            </div>
                                                          </div>
                                                        </div>
                                                        <div
                                                          *ngIf="
                                                            selectedTypePaiementId ===
                                                            '1'
                                                          "
                                                          class="payment-fields mb-3"
                                                        >
                                                          <div class="row mb-3">
                                                            <div
                                                              class="col-md-12"
                                                            >
                                                              <div class="mb-1">
                                                                <label
                                                                  class="form-label required"
                                                                  >Numéro de
                                                                  compte</label
                                                                >
                                                                <div
                                                                  class="otp-groups"
                                                                >
                                                                  <div
                                                                    class="otp-container"
                                                                  >
                                                                    <div
                                                                      class="otp-box"
                                                                      *ngFor="
                                                                        let ctrl of otpControls;
                                                                        let i = index
                                                                      "
                                                                    >
                                                                      <input
                                                                        type="text"
                                                                        maxlength="1"
                                                                        class="form-control otp-input"
                                                                        [formControl]="
                                                                          ctrl
                                                                        "
                                                                        (input)="
                                                                          onInput(
                                                                            $event,
                                                                            i
                                                                          )
                                                                        "
                                                                        (keydown)="
                                                                          onKeyDown(
                                                                            $event,
                                                                            i
                                                                          )
                                                                        "
                                                                        [ngClass]="{
                                                                          'is-invalid':
                                                                            submitted &&
                                                                            ctrl.invalid
                                                                        }"
                                                                        #otpInput
                                                                      />
                                                                    </div>
                                                                  </div>
                                                                </div>
                                                              </div>
                                                            </div>
                                                          </div>
                                                          <div class="row mb-3">
                                                            <div
                                                              class="col-md-12"
                                                            >
                                                              <div class="mb-3">
                                                                <label
                                                                  class="form-label required"
                                                                  >Nom du
                                                                  compte</label
                                                                >
                                                                <input
                                                                  class="form-control item account-name"
                                                                  type="text"
                                                                  formControlName="vcNomCompteOtp"
                                                                />
                                                              </div>
                                                            </div>
                                                          </div>
                                                        </div>

                                                        <div
                                                          *ngIf="
                                                            selectedTypePaiementId ===
                                                            '2'
                                                          "
                                                          class="payment-fields mb-3"
                                                        >
                                                          <div class="row mb-3">
                                                            <div
                                                              class="col-md-12"
                                                            >
                                                              <div class="mb-3">
                                                                <label
                                                                  class="form-label fw-bold text-body required"
                                                                  for="banque-du-Beneficiaire"
                                                                >
                                                                  Banque du
                                                                  Bénéficiaire
                                                                </label>
                                                                <select
                                                                  class="form-select bank"
                                                                  formControlName="banqueBeneficiaire"
                                                                >
                                                                  <option
                                                                    value=""
                                                                  >
                                                                    Veuillez
                                                                    sélectionner
                                                                    la banque
                                                                  </option>
                                                                  <option
                                                                    *ngFor="
                                                                      let banque of listeBanques
                                                                    "
                                                                    [value]="
                                                                      banque.vcName
                                                                    "
                                                                  >
                                                                    {{
                                                                      banque.vcName
                                                                    }}
                                                                  </option>
                                                                </select>
                                                                <small
                                                                  class="text-danger"
                                                                  *ngIf="
                                                                    submitted &&
                                                                    f[
                                                                      'banqueBeneficiaire'
                                                                    ]?.invalid
                                                                  "
                                                                >
                                                                  La banque est
                                                                  obligatoire
                                                                </small>
                                                              </div>
                                                            </div>
                                                          </div>
                                                          <div class="row mb-3">
                                                            <div
                                                              class="col-md-6"
                                                            >
                                                              <div class="mb-3">
                                                                <label
                                                                  class="form-label fw-bold text-body required"
                                                                  for="numero-de-compte"
                                                                  >Numéro de
                                                                  compte</label
                                                                >
                                                                <input
                                                                  class="form-control item numero_compte font-size-15 fw-semibold account-number"
                                                                  type="text"
                                                                  formControlName="numeroCompte"
                                                                  onlyNumbers
                                                                />
                                                                <small
                                                                  class="text-danger"
                                                                  *ngIf="
                                                                    submitted &&
                                                                    f[
                                                                      'numeroCompte'
                                                                    ]?.invalid
                                                                  "
                                                                >
                                                                  Le numero de
                                                                  compte est
                                                                  obligatoire
                                                                </small>
                                                              </div>
                                                            </div>
                                                            <div
                                                              class="col-md-6"
                                                            >
                                                              <div class="mb-3">
                                                                <label
                                                                  class="form-label fw-bold text-body required"
                                                                  for="nom-du-compte"
                                                                  >Nom du
                                                                  compte</label
                                                                ><input
                                                                  class="form-control item account-name"
                                                                  type="text"
                                                                  formControlName="vcNomCompte"
                                                                />
                                                                <small
                                                                  class="text-danger"
                                                                  *ngIf="
                                                                    submitted &&
                                                                    f[
                                                                      'vcNomCompte'
                                                                    ]?.invalid
                                                                  "
                                                                >
                                                                  Le nom du
                                                                  compte est
                                                                  obligatoire
                                                                </small>
                                                              </div>
                                                            </div>
                                                          </div>
                                                        </div>

                                                        <div
                                                          *ngIf="
                                                            selectedTypePaiementId ===
                                                            '3'
                                                          "
                                                          class="payment-fields"
                                                        >
                                                          <div class="mb-3">
                                                            <label
                                                              >Numéro
                                                              Mobile</label
                                                            >
                                                            <input
                                                              type="text"
                                                              class="form-control"
                                                              formControlName="numeroMobile"
                                                              onlyNumbers
                                                            />
                                                          </div>
                                                          <div class="mb-3">
                                                            <label
                                                              >Opérateur</label
                                                            >
                                                            <select
                                                              class="form-select"
                                                              formControlName="vcNomCompteMobile"
                                                            >
                                                              <option value="">
                                                                Sélectionner
                                                                l'opérateur
                                                              </option>
                                                              <option
                                                                value="MTN"
                                                              >
                                                                MTN
                                                              </option>
                                                              <option
                                                                value="ORANGE"
                                                              >
                                                                ORANGE
                                                              </option>
                                                            </select>
                                                          </div>
                                                        </div>
                                                      </div>
                                                    </div>
                                                  </div>
                                                </div>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="modal-footer">
                                    <button
                                      class="btn btn-primary"
                                      [disabled]="isLoading"
                                      type="submit"
                                    >
                                      {{
                                        isLoading
                                          ? "Enregistrement en cours..."
                                          : "Enregistrer"
                                      }}
                                    </button>

                                    <button
                                      class="btn btn-secondary"
                                      type="button"
                                      (click)="closeModalBeneficiaire()"
                                    >
                                      Annuler
                                    </button>
                                  </div>
                                </form>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="card-body">
                    <div class="tab-content" id="beneficiary-tabs-content">
                      <div
                        id="autres"
                        class="tab-pane fade show active"
                        role="tabpanel"
                        aria-labelledby="tab-autres"
                      >
                        <div class="table-responsive table">
                          <div class="d-flex justify-content-between mb-2">
                            <button
                              class="btn btn-success"
                              (click)="exportExcel()"
                            >
                              Exporter Excel
                            </button>
                            <input
                              type="text"
                              class="form-control w-25"
                              placeholder="Rechercher..."
                              [(ngModel)]="searchText"
                              (input)="currentPage = 1"
                            />
                          </div>

                          <table
                            class="table table-bordered table-hover mb-0 datatable align-middle dt-responsive table-check nowrap display"
                          >
                            <thead class="table-primary">
                              <tr>
                                <th (click)="sort('vcPhoto')">Photo</th>
                                <th (click)="sort('BeneficiaryCreatedDate')">
                                  Date
                                </th>
                                <th (click)="sort('vcLastName')">Nom</th> 
                                <th (click)="sort('vcFirstName')">Prénom</th>
                                <th (click)="sort('vcPhoneNumber')">Télephone</th>
                                <th (click)="sort('vcEmail')">Email</th>
                                <th (click)="sort('BeneficiaryTypeName')">
                                  Type
                                </th>
                                <th (click)="sort('BankName')">Banque</th>
                                <th (click)="sort('vcAccountNumber')">
                                  N° Compte
                                </th>
                                <th (click)="sort('vcStatus')">Statut</th>
                                <th class="text-center">Action</th>
                              </tr>
                            </thead>
                            <tbody>
                              <tr *ngFor="let benefice of pagedBeneficiaire">
                                <td>{{ benefice.vcPhoto }}</td>
                                <td>
                                  {{
                                    benefice.BeneficiaryCreatedDate
                                      | date : "dd/MM/yyyy HH:mm"
                                  }}
                                </td>
                                <td>{{ benefice.vcLastName }}</td> 
                                <td>{{ benefice.vcFirstName }}</td>
                                <td>{{ benefice.vcPhoneNumber }}</td>
                                <td>{{ benefice.vcEmail }}</td>
                                <td>{{ benefice.BeneficiaryTypeName }}</td>
                                <td>{{ benefice.BankName }}</td>
                                <td>{{ benefice.vcAccountNumber }}</td>
                                <td>
                                  <span
                                    class="badge"
                                    [ngClass]="{
                                      'bg-danger':
                                        benefice.vcStatus === 'En traitement' ||
                                        benefice.vcStatus === 'Rejete',
                                      'bg-success':
                                        benefice.vcStatus !== 'En traitement' &&
                                        benefice.vcStatus !== 'Rejete'
                                    }"
                                  >
                                    {{ benefice.vcStatus }}
                                  </span>
                                </td>

                                <td class="text-center">
                                  <button
                                    class="btn btn-sm btn-outline-primary me-2"
                                    (click)="
                                      modifierBeneficiaire(
                                        benefice.BeneficiaryID
                                      )
                                    "
                                  >
                                    <!-- <i class="mdi mdi-pencil"></i>  -->
                                    Detail
                                  </button>

                                  <button
                                    class="btn btn-sm btn-outline-success"
                                  >
                                    Transférer
                                  </button>
                                </td>
                              </tr>
                            </tbody>
                          </table>

                          <!-- Pagination -->
                          <div
                            class="d-flex justify-content-between align-items-center mt-2"
                          >
                            <div>
                              Affichage {{ startIndex() }} à
                              {{ endIndex() }} sur
                              {{ filteredData.length }} éléments
                            </div>
                            <div>
                              <button
                                class="btn btn-sm btn-outline-secondary me-1"
                                (click)="previousPage()"
                                [disabled]="currentPage === 1"
                              >
                                Précédent
                              </button>

                              <button
                                *ngFor="let page of getPages()"
                                class="btn btn-sm me-1"
                                [ngClass]="{
                                  'btn-outline-secondary':
                                    page !== currentPage && page !== '...',
                                  'btn-secondary': page === currentPage,
                                  disabled: page === '...'
                                }"
                                (click)="onPageClick(page)"
                              >
                                {{ page }}
                              </button>

                              <button
                                class="btn btn-sm btn-outline-secondary"
                                (click)="nextPage()"
                                [disabled]="currentPage === totalPages()"
                              >
                                Suivant
                              </button>
                            </div>
                          </div>

                          <!-- <table
                            class="table table-bordered table-hover mb-0 datatable align-middle dt-responsive table-check nowrap display"
                          >
                            <thead class="table-primary">
                              <tr>
                                <th>Date</th>
                                <th>Nom</th>
                                <th>Prénom</th>
                                <th>Email</th>
                                <th>Type</th>
                                <th>N° Compte</th>
                                <th>Statut</th>
                                <th class="text-center">Action</th>
                              </tr>
                            </thead>

                            <tbody>
                              <tr *ngFor="let benefice of listeBeneficiaire">
                                <td>
                                  {{
                                    benefice.BeneficiaryCreatedDate
                                      | date : "dd/MM/yyyy HH:mm"
                                  }}
                                </td>
                                <td>{{ benefice.vcLastName }}</td>
                                <td>{{ benefice.vcFirstName }}</td>
                                <td>{{ benefice.vcEmail }}</td>
                                <td>{{ benefice.BeneficiaryTypeName }}</td>
                                <td>{{ benefice.vcAccountNumber }}</td>
                                <td>
                                  <span
                                    class="badge bg-warning text-dark"
                                    *ngIf="
                                      benefice.vcStatus === 'En traitement'
                                    "
                                  >
                                    {{ benefice.vcStatus }}
                                  </span>
                                  <span
                                    class="badge bg-success"
                                    *ngIf="
                                      benefice.vcStatus !== 'En traitement'
                                    "
                                  >
                                    {{ benefice.vcStatus }}
                                  </span>
                                </td>

                                <td class="text-center">
                                 

                                  <button
                                    type="button"
                                    class="btn btn-sm btn-outline-primary me-2"
                                    (click)="
                                      modifierBeneficiaire(
                                        benefice.vcAccountNumber
                                      )
                                    "
                                  >
                                    <i class="mdi mdi-pencil"></i> Modifier
                                  </button>

                                  <button
                                    class="btn btn-sm btn-outline-success"
                                    (click)="transfererBeneficiaire(benefice)"
                                  >
                                    <i class="mdi mdi-swap-horizontal"></i>
                                    Transférer
                                  </button>
                                </td>
                              </tr>
                            </tbody>
                          </table> -->
                        </div>
                      </div>
                      <div
                        id="fournisseurs"
                        class="tab-pane fade"
                        role="tabpanel"
                        aria-labelledby="tab-fournisseurs"
                      >
                        <div class="table-responsive table">
                          <table
                            class="table mb-0 link-table datatable align-middlink-tablele dt-responsive table-check nowrap display"
                          >
                            <thead class="table-primary">
                              <tr>
                                <th style="width: 30px" scope="col">
                                  <div class="form-check font-size-16">
                                    <input
                                      class="form-check-input"
                                      type="checkbox"
                                      id="checkAll-2"
                                      name="check"
                                      autocomplete="off"
                                      onclick="eventCheckBox()"
                                      checked=""
                                    /><label
                                      class="form-check-label"
                                      for="checkAll-2"
                                    ></label>
                                  </div>
                                </th>
                                <th>Photo</th>
                                <th>Nom</th>
                                <th>Type</th>
                                <th>Banque</th>
                                <th>Numéro de Compte</th>
                                <th>Email</th>
                                <th>Actions</th>
                              </tr>
                            </thead>
                            <tbody id="fournisseurs-list"></tbody>
                          </table>
                        </div>
                      </div>
                      <div
                        id="employes"
                        class="tab-pane fade"
                        role="tabpanel"
                        aria-labelledby="tab-employes"
                      >
                        <div class="table-responsive table">
                          <table
                            class="table mb-0 link-table datatable align-middlink-tablele dt-responsive table-check nowrap display"
                          >
                            <thead class="table-primary">
                              <tr>
                                <th style="width: 30px" scope="col">
                                  <div class="form-check font-size-16">
                                    <input
                                      class="form-check-input"
                                      type="checkbox"
                                      id="checkAll-3"
                                      name="check"
                                      autocomplete="off"
                                      onclick="eventCheckBox()"
                                      checked=""
                                    /><label
                                      class="form-check-label"
                                      for="checkAll-3"
                                    ></label>
                                  </div>
                                </th>
                                <th>Photo</th>
                                <th>Nom</th>
                                <th>Type</th>
                                <th>Banque</th>
                                <th>Numéro de Compte</th>
                                <th>Email</th>
                                <th>Actions</th>
                              </tr>
                            </thead>
                            <tbody id="employes-list"></tbody>
                          </table>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
